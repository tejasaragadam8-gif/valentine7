<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine üíñ</title>

<style>
body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    background: linear-gradient(135deg, #ff758c, #ff7eb3);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: Arial, sans-serif;
}

.container {
    background: white;
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    width: 90%;
    max-width: 360px;
    z-index: 2;
}

h1 {
    color: #e91e63;
}

.buttons {
    margin-top: 30px;
    position: relative;
    height: 140px;
}

button {
    padding: 14px 26px;
    font-size: 18px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
}

#yes {
    background: #4CAF50;
    color: white;
    position: absolute;
    left: 20px;
}

#no {
    background: #f44336;
    color: white;
    position: absolute;
    right: 20px;
    transition: transform 0.15s;
}

.message {
    display: none;
    font-size: 22px;
    color: #e91e63;
    margin-top: 20px;
}

/* Ring animation */
#ring {
    font-size: 60px;
    display: none;
    animation: pop 1.5s ease infinite;
}

@keyframes pop {
    0% { transform: scale(0.8); }
    50% { transform: scale(1.2); }
    100% { transform: scale(0.8); }
}

/* Cute image */
#cutePic {
    display: none;
    width: 140px;
    margin-top: 15px;
}

/* Fireworks canvas */
canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1;
    display: none;
}
</style>
</head>

<body>

<!-- Background music (plays AFTER first click) -->
<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3">
</audio>

<!-- Celebration music (after YES) -->
<audio id="yesMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3">
</audio>

<canvas id="fireworks"></canvas>

<div class="container">
    <h1 id="question">Will you be my Valentine? üíò</h1>

    <div class="buttons">
        <button id="yes">YES üíñ</button>
        <button id="no">NO üíî</button>
    </div>

    <div id="ring">üíç</div>

    <div class="message" id="finalMsg">
        You just made me the happiest person ever üòçüíñ
    </div>

    <!-- WORKING IMAGE -->
    <img id="cutePic"
         src="https://raw.githubusercontent.com/mdn/learning-area/main/html/multimedia-and-embedding/images-in-html/dinosaur.png"
         alt="Cute Image">
</div>

<script>
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const question = document.getElementById("question");
const finalMsg = document.getElementById("finalMsg");
const bgMusic = document.getElementById("bgMusic");
const yesMusic = document.getElementById("yesMusic");
const ring = document.getElementById("ring");
const cutePic = document.getElementById("cutePic");

let scale = 1;
let textIndex = 0;
let musicStarted = false;

const teasingTexts = [
  "Hey üò≥ not that one!",
  "Wrong choice üò≠",
  "Are you serious? üíî",
  "My heart is breaking ü•∫",
  "Just click YES already üò≠üíñ",
  "This button is forbidden üö´",
  "YES is the only option üòå"
];

// Start background music on first interaction
document.body.addEventListener("click", () => {
    if (!musicStarted) {
        bgMusic.play();
        musicStarted = true;
    }
}, { once: true });

// NO button logic
function moveNo() {
    scale -= 0.08;
    if (scale < 0.25) scale = 0.25;

    const x = Math.random() * 240 - 120;
    const y = Math.random() * 140 - 70;

    noBtn.style.transform = `translate(${x}px, ${y}px) scale(${scale})`;
    question.innerText = teasingTexts[textIndex % teasingTexts.length];
    textIndex++;
}

noBtn.addEventListener("mouseover", moveNo);
noBtn.addEventListener("touchstart", moveNo);

// YES click
yesBtn.addEventListener("click", () => {
    bgMusic.pause();
    yesMusic.play();

    document.querySelector(".buttons").style.display = "none";
    question.style.display = "none";

    ring.style.display = "block";
    finalMsg.style.display = "block";
    cutePic.style.display = "block";

    startFireworks();
});

/* BIG FULLSCREEN FIREWORKS */
function startFireworks() {
    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");
    canvas.style.display = "block";
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let particles = [];

    function boom() {
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height * 0.5;
        for (let i = 0; i < 120; i++) {
            particles.push({
                x, y,
                vx: (Math.random() - 0.5) * 10,
                vy: (Math.random() - 0.5) * 10,
                life: 120
            });
        }
    }

    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach((p, i) => {
            p.x += p.vx;
            p.y += p.vy;
            p.life--;
            ctx.fillStyle = `hsl(${Math.random()*360},100%,60%)`;
            ctx.fillRect(p.x, p.y, 4, 4);
            if (p.life <= 0) particles.splice(i, 1);
        });
        requestAnimationFrame(animate);
    }

    setInterval(boom, 400);
    animate();
}
</script>

</body>
</html>
